"use client"
import "./globals.css"
import { usePathname } from "next/navigation"
import { Inter } from "next/font/google"
import { useWindowScroll } from "react-use"
import clsx from "clsx"
import { FC } from "react"
import { UnstyledLink } from "@/components/links"

const inter = Inter({ subsets: ["latin"] })

export const metadata = {
   title: "Create Next App",
   description: "Generated by create next app",
}

export default function RootLayout({
   children,
}: {
   children: React.ReactNode
}) {
   return (
      <html lang="en">
         <body className={inter.className}>
            <Header />
            {children}
         </body>
      </html>
   )
}

interface HeaderProps {
   large?: boolean
}
const Header:FC<HeaderProps> = () => {
   const pathname = usePathname()
   const baseRoute = `/${pathname.split("/")[0]}`
   const windowScroll = useWindowScroll()

   const links = [
      { 
         href: "/",
         label: "Home"
      },
      { 
         href: "/blog",
         label: "Blog"
      },
      { 
         href: "/projects",
         label: "Projects"
      },
      { 
         href: "/library",
         label: "Library"
      },
      { 
         href: "/about",
         label: "About"
      },
   ]

   return (
      <header className={clsx(
         "sticky top-0 z-50 transition-shadow",
         windowScroll.y > 0 && "shadow-sm"
      )}>
         <div className="bg-primary">
            <ul className="flex items-center justify-between gap-3 text-xs md:gap-4 md:text-base">
               {links.map(({ href, label }) => (
                  <li key={`${href}-${label}`}>
                     <UnstyledLink
                        href={href}
                     >
                        {label}
                     </UnstyledLink>
                  </li>
               ))}
            </ul>
         </div>
      </header>
   )
}